[gd_scene load_steps=12 format=3 uid="uid://bayq4ijtndkpe"]

[ext_resource type="PackedScene" uid="uid://chakex8pjhjee" path="res://scenes/common/menu.tscn" id="1_lvc3h"]
[ext_resource type="PackedScene" uid="uid://bomf758ue40oe" path="res://scenes/test02/scene.blend" id="2_15k8b"]
[ext_resource type="PackedScene" uid="uid://bkw4h7gwo5tgk" path="res://scenes/test02/monkeys.blend" id="3_u0ork"]
[ext_resource type="LightmapGIData" uid="uid://dg7cb7wso6vlo" path="res://scenes/test02/bake/test_02.lmbake" id="4_axd87"]
[ext_resource type="PackedScene" uid="uid://bk6efnx4idshn" path="res://scenes/test02/monkey.blend" id="4_k7ats"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_b6alj"]

[sub_resource type="Sky" id="Sky_x13d2"]
sky_material = SubResource("ProceduralSkyMaterial_b6alj")

[sub_resource type="Environment" id="Environment_go7wd"]
background_mode = 2
sky = SubResource("Sky_x13d2")
tonemap_mode = 2

[sub_resource type="Animation" id="Animation_3hskg"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("monkeys:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("monkeys_separate:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 12, 0)]
}

[sub_resource type="Animation" id="Animation_f0qw7"]
resource_name = "loop"
length = 20.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("monkeys:position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 10),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, 12, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("monkeys_separate:position")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 10),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 12, 0), Vector3(0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_gdgys"]
_data = {
"RESET": SubResource("Animation_3hskg"),
"loop": SubResource("Animation_f0qw7")
}

[node name="Test02" type="Node3D"]

[node name="Menu" parent="." instance=ExtResource("1_lvc3h")]
lightmap_gi_path = NodePath("../LightmapGI")
scene_path = NodePath("../scene")
info_text = "The scene is used to verify the correct lighting of dynamic objects by LightmapProbes. The animation changes the position of objects so that they fall within the range of different probes, both those outside and inside the pink box.

The \"One mesh\" element is a single object, while \"Separate meshes\" is a group of independent objects.

The scene is lit using only WorldEnvironment with ProceduralSkyMaterial set. Probes are generated with Subdiv set to 16."

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_go7wd")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.85416, -0.191572, 0.483437, -2.12653e-08, 0.929667, 0.3684, -0.520011, -0.314673, 0.794084, 8.35926, 10.9872, 13.7186)

[node name="scene" parent="." instance=ExtResource("2_15k8b")]

[node name="monkeys" parent="." instance=ExtResource("3_u0ork")]

[node name="Label3D" type="Label3D" parent="monkeys"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0, 0)
billboard = 1
no_depth_test = true
text = "One mesh	"
font_size = 64

[node name="monkeys_separate" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 12, 0)

[node name="Label3D" type="Label3D" parent="monkeys_separate"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0, 0)
billboard = 1
no_depth_test = true
text = "Separate meshes"
font_size = 64

[node name="monkey" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 0, -6)

[node name="monkey2" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, -6)

[node name="monkey3" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -6)

[node name="monkey4" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, -6)

[node name="monkey5" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, -6)

[node name="monkey6" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 0, -3)

[node name="monkey7" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, -3)

[node name="monkey8" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -3)

[node name="monkey9" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, -3)

[node name="monkey10" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, -3)

[node name="monkey11" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 0, 0)

[node name="monkey12" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 0)

[node name="monkey13" parent="monkeys_separate" instance=ExtResource("4_k7ats")]

[node name="monkey14" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, 0)

[node name="monkey15" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, 0)

[node name="monkey16" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 0, 3)

[node name="monkey17" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 3)

[node name="monkey18" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 3)

[node name="monkey19" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, 3)

[node name="monkey20" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, 3)

[node name="monkey21" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 0, 6)

[node name="monkey22" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3, 0, 6)

[node name="monkey23" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 6)

[node name="monkey24" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, 6)

[node name="monkey25" parent="monkeys_separate" instance=ExtResource("4_k7ats")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, 6)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_gdgys")
}
autoplay = "loop"

[node name="LightmapGI" type="LightmapGI" parent="."]
generate_probes_subdiv = 3
light_data = ExtResource("4_axd87")
